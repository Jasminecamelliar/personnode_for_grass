<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog - CaoCao</title>
    <style>
      :root {
        --bg-color: #000000;
        --card-bg: rgba(28, 28, 30, 0.65);
        --text-primary: #f5f5f7;
        --text-secondary: #86868b;
        --accent: #2997ff;
        --blur: 30px;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
          sans-serif;
        background-color: var(--bg-color);
        color: var(--text-primary);
        margin: 0;
        padding: 40px 20px;
        min-height: 100vh;
      }

      /* --- 顶部导航 --- */
      .nav-header {
        max-width: 800px;
        margin: 0 auto 40px;
        display: flex;
        align-items: center;
      }

      .back-btn {
        color: var(--accent);
        text-decoration: none;
        font-size: 16px;
        display: flex;
        align-items: center;
        gap: 5px;
        transition: 0.3s;
      }
      .back-btn:hover {
        opacity: 0.8;
        transform: translateX(-5px);
      }

      /* --- 文章容器 --- */
      .article-container {
        max-width: 800px;
        margin: 0 auto;
        animation: fadeIn 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
      }

      /* 封面图 */
      .hero-img {
        width: 100%;
        height: 300px;
        background-color: #333;
        border-radius: 20px;
        margin-bottom: 30px;
        background-image: url("assets/images/avatar.jpg"); /* 这里可以用你喜欢的任何大图 */
        background-size: cover;
        background-position: center;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      }

      h1 {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 10px;
      }
      .meta {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 30px;
      }

      /* 正文样式 */
      .content {
        font-size: 17px;
        line-height: 1.8;
        color: #e5e5e7;
      }
      .content p {
        margin-bottom: 20px;
      }

      /* --- 互动区域 (点赞 & 评论) --- */
      .interaction-area {
        margin-top: 60px;
        padding-top: 40px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      /* 点赞按钮 */
      .like-btn-container {
        text-align: center;
        margin-bottom: 40px;
      }
      .like-btn {
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        padding: 12px 30px;
        border-radius: 50px;
        font-size: 16px;
        cursor: pointer;
        transition: 0.3s;
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }
      .like-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.05);
      }
      .like-btn.active {
        background: #ff3b30;
        color: white;
      }
      .heart-icon {
        font-size: 18px;
      }

      /* 评论区 */
      .comment-section h3 {
        margin-bottom: 20px;
      }

      .comment-input {
        width: 100%;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 12px;
        color: white;
        font-family: inherit;
        resize: vertical;
        min-height: 80px;
        margin-bottom: 15px;
      }
      .comment-input:focus {
        border-color: var(--accent);
        outline: none;
        background: rgba(255, 255, 255, 0.1);
      }

      .submit-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 8px;
        cursor: pointer;
        float: right;
      }

      .comment-list {
        margin-top: 60px;
        list-style: none;
        padding: 0;
      }
      .comment-item {
        background: var(--card-bg);
        padding: 15px;
        border-radius: 12px;
        margin-bottom: 15px;
        animation: slideUp 0.3s ease;
      }
      .comment-date {
        font-size: 12px;
        color: var(--text-secondary);
        margin-bottom: 5px;
        display: block;
      }

      /* 动画 */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="nav-header">
      <a href="index.html" class="back-btn">← Back to Home</a>
    </div>

    <article class="article-container">
      <div class="hero-img"></div>
      <h1>构建我的个人数字花园</h1>
      <div class="meta">2025.12.03 · By CaoCao</div>

      <div class="content">
        <p>假如我可以做一棵草。</p>
        <p>
          我什么也没忘，但是有些事只适合收藏。不能说，也不能想，却又不能忘。它们不能变成语言，它们无法变成语言，一旦变成语言就不再是它们了。它们是一片朦胧的温馨与寂寥，是一片成熟的希望与绝望，它们的领地只有两处：心与坟墓。
        </p>
      </div>

      <div class="interaction-area">
        <div class="like-btn-container">
          <button id="likeBtn" class="like-btn">
            <span class="heart-icon">❤</span>
            <span id="likeCount">赞 (0)</span>
          </button>
        </div>

        <div class="comment-section">
          <h3>Comments</h3>
          <textarea
            id="commentInput"
            class="comment-input"
            placeholder="写下你的想法... (保存在本地)"
          ></textarea>
          <button onclick="addComment()" class="submit-btn">发送</button>

          <ul id="commentList" class="comment-list"></ul>
        </div>
      </div>
    </article>

    <script>
      // --- 1. 点赞功能 (本地存储版) ---
      const likeBtn = document.getElementById("likeBtn");
      const likeCountLabel = document.getElementById("likeCount");

      // 初始化：检查是否点过赞
      let likes = localStorage.getItem("blog_likes")
        ? parseInt(localStorage.getItem("blog_likes"))
        : 0;
      let hasLiked = localStorage.getItem("blog_has_liked") === "true";

      function updateLikeUI() {
        likeCountLabel.innerText = hasLiked
          ? `已赞 (${likes})`
          : `赞 (${likes})`;
        if (hasLiked) likeBtn.classList.add("active");
      }
      updateLikeUI();

      likeBtn.addEventListener("click", () => {
        if (!hasLiked) {
          likes++;
          hasLiked = true;
          // 播放一个小动画效果
          likeBtn.style.transform = "scale(1.2)";
          setTimeout(() => (likeBtn.style.transform = "scale(1)"), 200);
        } else {
          likes--;
          hasLiked = false;
        }
        // 保存数据
        localStorage.setItem("blog_likes", likes);
        localStorage.setItem("blog_has_liked", hasLiked);
        updateLikeUI();
      });

      // --- 2. 评论功能 (本地存储版) ---
      const commentInput = document.getElementById("commentInput");
      const commentList = document.getElementById("commentList");

      // 加载历史评论
      const savedComments = JSON.parse(
        localStorage.getItem("blog_comments") || "[]"
      );

      function renderComments() {
        commentList.innerHTML = "";
        savedComments.forEach((c) => {
          const li = document.createElement("li");
          li.className = "comment-item";
          li.innerHTML = `<span class="comment-date">${c.date}</span>${c.text}`;
          commentList.prepend(li); // 新评论在最上面
        });
      }
      renderComments();

      function addComment() {
        const text = commentInput.value.trim();
        if (!text) return;

        const newComment = {
          text: text,
          date: new Date().toLocaleString(),
        };

        savedComments.push(newComment);
        localStorage.setItem("blog_comments", JSON.stringify(savedComments));

        commentInput.value = ""; // 清空输入框
        renderComments(); // 重新渲染
      }
    </script>
  </body>
</html>
